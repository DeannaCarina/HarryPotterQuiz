const book1Questions = [
  //Book 1 Questions
  {
      question: "What is the title of the first chapter in Harry Potter and the Philosopher's Stone?",
      answers: {
          a: "Number Four Privet Drive",
          b: "The Boy Who Lived<div class='tick'><img src='https://i.ibb.co/v43bTPs/tick.png'></div>",
          c: "The Vanishing Glass",
          d: "The Potters"
      },
      correctAnswer: 'b'
    },
    {
      question: "Mr Dursley works for a firm called 'Grunnings', but what do they do?",
      answers: {
          a: "Make shotguns",
          b: "Make lawnmowers",
          c: "Make drills<div class='tick'><img src='https://i.ibb.co/v43bTPs/tick.png'></div>",
          d: "Make racing bikes"
      },
      correctAnswer: 'c'
    },
    {
      question: "On the trip to the zoo, which of Dudley's friends went too?",
      answers: {
          a: "Piers<div class='tick'><img src='https://i.ibb.co/v43bTPs/tick.png'></div>",
          b: "Paul",
          c: "Peter",
          d: "Phil"
      },
      correctAnswer: 'a'
    },
    {
      question: "When Harry removed the glass in the zoo, where did the snake say he was going?",
      answers: {
          a: "Nepal",
          b: "Burma",
          c: "Brazil<div class='tick'><img src='https://i.ibb.co/v43bTPs/tick.png'></div>",
          d: "Peru"
      },
      correctAnswer: 'c'
    },
    {
      question: "In Harry's 'Set Books' list, who wrote 'Magical Theory'?",
      answers: {
          a: "Bathilda Bagshot",
          b: "Miranda Goshawk",
          c: "Adalbert Waffling<div class='tick'><img src='https://i.ibb.co/v43bTPs/tick.png'></div>",
          d: "Emeric Switch"
      },
      correctAnswer: 'c'
    },
    {
      question: "Which brick did Hagrid need to tap three times to gain access to Diagon Alley?",
      answers: {
          a: "Three up... Four Across",
          b: "Four up... One Across",
          c: "Two up... Four Across",
          d: "Three up... Two Across<div class='tick'><img src='https://i.ibb.co/v43bTPs/tick.png'></div>"
      },
      correctAnswer: 'd'
    },
    {
      question: "How does the currency system work in the wizarding world?",
      answers: {
          a: "15 Sickles to a Galleon, 25 Knuts to a Sickle",
          b: "17 Sickles to a Galleon, 29 Knuts to a Sickle<div class='tick'><img src='https://i.ibb.co/v43bTPs/tick.png'></div>",
          c: "10 Sickles to a Galleon, 30 Knuts to a Sickle",
          d: "19 Sickles to a Galleon, 27 Knuts to a Sickle"
      },
      correctAnswer: 'b'
    },
    {
      question: "Who bought Hedwig?",
      answers: {
          a: "Harry",
          b: "Hagrid<div class='tick'><img src='https://i.ibb.co/v43bTPs/tick.png'></div>",
          c: "Professor McGonagall",
          d: "Professor Dumbledore"
      },
      correctAnswer: 'b'
    },
    {
      question: "When Harry was fitted for his robes at Madam Malkin's, which other student was in the shop?",
      answers: {
          a: "Ron Weasley",
          b: "Neville Longbottom",
          c: "Hermione Granger",
          d: "Draco Malfoy<div class='tick'><img src='https://i.ibb.co/v43bTPs/tick.png'></div>"
      },
      correctAnswer: 'd'
    },
    {
      question: "What is Nearly Headless Nick's full name?",
      answers: {
          a: "Sir Nicholas de Mimsy-Porpington<div class='tick'><img src='https://i.ibb.co/v43bTPs/tick.png'></div>",
          b: "Sir Nicholas de Michael-Parkinson",
          c: "Sir Nicholas de Magnus-Pilkington",
          d: "Sir Nicholas de Milton-Paddington"
      },
      correctAnswer: 'a'
    },
    {
      question: "On the train ride to Hogwarts, who did Scabbers bite?",
      answers: {
          a: "Crabbe",
          b: "Malfoy",
          c: "Goyle<div class='tick'><img src='https://i.ibb.co/v43bTPs/tick.png'></div>",
          d: "Neville"
      },
      correctAnswer: 'c'
    },
    {
      question: "What is the first password for Gryffindor common room that we learn of?",
      answers: {
          a: "Fortuna Major",
          b: "Caput Draconis<div class='tick'><img src='https://i.ibb.co/v43bTPs/tick.png'></div>",
          c: "Pig Snout",
          d: "Flibbertigibbet"
      },
      correctAnswer: 'b'
    },
    {
      question: "What would you get if you added powdered root of asphodel to an infusion of wormwood? Where would you find a bezoar? What's the difference between monkshood and wolfsbane?",
      answers: {
          a: "A love potion. The stomach of a pig. They are the same.",
          b: "A luck potion. The stomach of a dragon. One is a herb, the other a potion.",
          c: "A sleeping potion. The stomach of a goat. They are the same.<div class='tick'><img src='https://i.ibb.co/v43bTPs/tick.png'></div>",
          d: "A healing potion. The stomach of a phoenix. One is a flower, the other a poison."
      },
      correctAnswer: 'c'
    },
    {
      question: "What is Hagrid's dog called?",
      answers: {
          a: "Buckbeak",
          b: "Norbet",
          c: "Fluffy",
          d: "Fang<div class='tick'><img src='https://i.ibb.co/v43bTPs/tick.png'></div>"
      },
      correctAnswer: 'd'
    },
    {
      question: "Which lesson was Oliver Wood in when Harry cought Neville's rememberall in his first flying lesson?",
      answers: {
          a: "Charms<div class='tick'><img src='https://i.ibb.co/v43bTPs/tick.png'></div>",
          b: "Transfiguration",
          c: "Defence against the dark arts",
          d: "Potions"
      },
      correctAnswer: 'a'
    },
    {
      question: "How many different ways are there to commit a Quidditch foul?",
      answers: {
          a: "50",
          b: "150",
          c: "350",
          d: "700<div class='tick'><img src='https://i.ibb.co/v43bTPs/tick.png'></div>"
      },
      correctAnswer: 'd'
    },
    {
      question: "Who are the three chasers in Harry's first Quidditch match?",
      answers: {
          a: "Oliver Wood, Angelina Johnson, Penelope Clearwater",
          b: "Katie Bell, Alicia Spinnet and Angelina Johnson<div class='tick'><img src='https://i.ibb.co/v43bTPs/tick.png'></div>",
          c: "Alicia Spinnet, Veronica Smethley, Katie Bell",
          d: "Angelina Johnson, Katie Bell, Oliver Wood"
      },
      correctAnswer: 'b'
    },
    {
      question: "What colour was Harry's Christmas jumper from Mrs Weasley?",
      answers: {
          a: "Emerald<div class='tick'><img src='https://i.ibb.co/v43bTPs/tick.png'></div>",
          b: "Maroon",
          c: "Navy",
          d: "Yellow"
      },
      correctAnswer: 'a'
    },
    {
      question: "What are the words of the inscription on the Mirror of Erised?",
      answers: {
          a: "Et respice et vide quid tibi petitiones cordis tui",
          b: "Speculum hoc maneat periculo non auferetur",
          c: "Erised stra ehru oyt ube cafru oyt on wohsi<div class='tick'><img src='https://i.ibb.co/v43bTPs/tick.png'></div>",
          d: "Erised est cor tuum in viam quaerere invenire"
      },
      correctAnswer: 'c'
    },
    {
      question: "What is the name of Nicholas Flamel's wife?",
      answers: {
          a: "Persephone",
          b: "Priscilla",
          c: "Penelope",
          d: "Perenelle<div class='tick'><img src='https://i.ibb.co/v43bTPs/tick.png'></div>"
      },
      correctAnswer: 'd'
    }    
];

alert('PLEASE NOTE: All the following questions and answers are based on the first Harry Potter BOOK - not the movie.');

function displayTicks(){
  const divArray = 
  Array.from(document.getElementsByClassName('tick'));
  const displayStyle = divArray[0].style.display === 'block' ? 'none' : 'block';
divArray.forEach(div => {
div.style.display = displayStyle;
}); 
}

// Below code inspired from https://simplestepscode.com/javascript-quiz-tutorial/ code has been altered and editted to fit the needs of the 
// Harry Potter quiz, extra elements have been added, and some removed depending on my needs. Almost all variables have been renamed to make 
// it easier for future editing and bug fixing.

let containerOfQuiz = document.getElementById('quiz');
let containerOfResults = document.getElementById('results');
let submitQuizButton = document.getElementById('submit');
let containerOfBottomLinks = document.getElementById('bottomLinks');
let containerOfTopLinks = document.getElementById('topLinks');

generateQuiz(book1Questions, containerOfQuiz, containerOfResults, submitQuizButton, containerOfBottomLinks, containerOfTopLinks);

function generateQuiz(questions, containerOfQuiz, containerOfResults, submitQuizButton){
  // show questions right away
  showQuizQuestions(questions, containerOfQuiz);
  // store output and answer choices for each question
  function showQuizQuestions(questions, containerOfQuiz){
    let output = [];
    let answers;
    for(let i=0; i<questions.length; i++){
      // reset the list of answers
      answers = [];
      /* for each available answer, add a radio button for selection of only one answer (this will be 
      removed via CSS and the whole label will be selectable by the user with stylings affecting the whole label) to show selection */
      for(letter in questions[i].answers){
        answers.push(
            '<input type="radio" id="'+ questions[i].answers[letter] +'" name="question'+i+'" value="'+letter+'">'
            + '<label  for="'+ questions[i].answers[letter] +'">'+ questions[i].answers[letter] +'</label>'
        );
      }
      // add questions and its answers to the quiz 
      output.push(
        '<div class="question"><h3 id="quiz-questions">' +[i+1] + '. ' + questions[i].question + '</h3></div><br>'
        + '<div class="answers">' + answers.join('') + '</div><br>'
      );
    }
    // combine question and it's answers into one string of html and put it on the page (for all 20 questions)
    containerOfQuiz.innerHTML = output.join('');
  }
  function showResults(questions, containerOfQuiz, containerOfResults){
    // gather answer containers from the quiz
    let answerContainers = containerOfQuiz.querySelectorAll('.answers');
    // keep track of user's answers
    let userAnswer = '';
    let numCorrect = 0;
    // for each question...
    for(let i=0; i<questions.length; i++){
      // find selected answer
      userAnswer = (answerContainers[i].querySelector('input[name=question'+i+']:checked')||{}).value;
      // if answer is correct
      if(userAnswer===questions[i].correctAnswer) {
        // add the total of correct answers together and color the answer text green of all the answer labels
        numCorrect++;
        answerContainers[i].style.color = 'green';
      } else /*if answer is wrong or blank, colour the text red*/ {
        answerContainers[i].style.color = 'red';
      }
    }
    // show number of correct answers out of total
    containerOfResults.innerHTML = numCorrect + ' out of ' + questions.length;
    // Add alert once submit button is pressed for a visual prompt and a nice message for the user
    if (numCorrect <= 4){
      alert('You scored ' + numCorrect +'! Better luck next time! Try reading the books a few more times.')
    } else if (numCorrect >= 5 && numCorrect <= 7){
      alert('You scored ' + numCorrect +'! Well done, you know a little bit about Harry Potter! Maybe try re-reading the books to get a better score.')
    } else if (numCorrect >= 8 && numCorrect <= 12){
      alert('You scored ' + numCorrect +'! Well done, you know quite a bit about Harry Potter! Try rereshing your Harry Potter know-how by re-reading the books for a better score.')
    } else if (numCorrect >= 13 && numCorrect <= 16){
      alert('You scored ' + numCorrect +'! Well done, you know loads about Harry Potter! You must have read the books a few times.')
    } else if (numCorrect >= 17 && numCorrect <= 19){
      alert('You scored ' + numCorrect +'! Well done, you are almost at top marks! Try again and see if you can get 20/20.')
    } else {
      alert("You scored " + numCorrect +"! You got top marks! You're a Harry Potter wiz! Try challenging another Harry Potter nerd to see who wins!")
    };    
  }
  // on submit, show results and home, reveal and refresh buttons via making containers visible
  submitQuizButton.onclick = function(){
    showResults(questions, containerOfQuiz, containerOfResults, containerOfBottomLinks);
    containerOfBottomLinks.style.display = "block";
    containerOfTopLinks.style.display = "block";  
    }    
}

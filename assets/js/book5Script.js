const book5Questions = [
    {
      question: "What make of broomstick does Tonks use and ride?",
      answers: {
          a: "Cleansweep Eleven",
          b: "Comet Two-Sixty<div class='tick'><img src='https://i.ibb.co/v43bTPs/tick.png'></div>",
          c: "Silver Arrow",
          d: "Nimbus Two-Thousand"
      },
      correctAnswer: 'b'
    },
    {
      question: "At what number Grimmauld Place is the headquarters of the Order of the Phoenix situated?",
      answers: {
          a: "Number 10",
          b: "Number 11",
          c: "Number 12<div class='tick'><img src='https://i.ibb.co/v43bTPs/tick.png'></div>",
          d: "Number 13"
      },
      correctAnswer: 'c'
    },
    {
      question: "Who was the minister for magic before Cornelius Fudge?",
      answers: {
          a: "Harold Minchum",
          b: "Millicent Bagnold<div class='tick'><img src='https://i.ibb.co/v43bTPs/tick.png'></div>",
          c: "Ignatius Tuft",
          d: "Eugenia Jenkins"
      },
      correctAnswer: 'b'
    },
    {
      question: "What is the code Mr Weasley entered in the phone box to gain access to the Ministry of Magic?",
      answers: {
          a: "6-2-4-4-2<div class='tick'><img src='https://i.ibb.co/v43bTPs/tick.png'></div>",
          b: "5-6-6-3-6-6",
          c: "3-8-3-4-3",
          d: "9-2-6-3-7"
      },
      correctAnswer: 'a'
    },
    {
      question: "What winged animal sits on top of the pillars at the gated entrance to Hogwart's grounds?",
      answers: {
          a: "Horses",
          b: "Lions",
          c: "Goats",
          d: "Boars<div class='tick'><img src='https://i.ibb.co/v43bTPs/tick.png'></div>"
      },
      correctAnswer: 'd'
    },
    {
      question: "What type of plant did Neville have on the Journey to Hogwarts in his 5th year which is also the first password of 5th year to the Gryffindor common room?",
      answers: {
          a: "Mimbulus Mimbletonia<div class='tick'><img src='https://i.ibb.co/v43bTPs/tick.png'></div>",
          b: "Venomous Tentacula",
          c: "Leaping Toadstool",
          d: "Wiggentree"
      },
      correctAnswer: 'a'
    },
    {
      question: "What type of biscuit did Harry eat in McGonagall's office after he had been sent there by Umbridge?",
      answers: {
          a: "Chocolate Wands",
          b: "Shortbread",
          c: "Canary Cream",
          d: "Ginger Newt<div class='tick'><img src='https://i.ibb.co/v43bTPs/tick.png'></div>"
      },
      correctAnswer: 'd'
    },
    {
      question: "What animal were the fifth years attempting to vanish in their first Transfiguration lesson of fifth year?",
      answers: {
          a: "Worms",
          b: "Snails<div class='tick'><img src='https://i.ibb.co/v43bTPs/tick.png'></div>",
          c: "Beetles",
          d: "Earwigs"
      },
      correctAnswer: 'b'
    },
    {
      question: "Before Ron's first Quidditch match as Keeper, the Slytherins wore a badge to try and knock Ron's confidence, what did they say?",
      answers: {
          a: "Weasley is our king<div class='tick'><img src='https://i.ibb.co/v43bTPs/tick.png'></div>",
          b: "Weasley can't keep",
          c: "Weasley stinks",
          d: "Drop the ball Weasley"
      },
      correctAnswer: 'a'
    },
    {
      question: "What is the correct term to describe the chief of a Giant's tribe?",
      answers: {
          a: "Trurg",
          b: "Blurg",
          c: "Durg",
          d: "Gurg<div class='tick'><img src='https://i.ibb.co/v43bTPs/tick.png'></div>"
      },
      correctAnswer: 'd'
    },
    {
      question: "How many students in total could see the thestrals in Hargrid's first Care of Magical Creatures lesson on his return to Hogwarts?",
      answers: {
          a: "Two",
          b: "Three<div class='tick'><img src='https://i.ibb.co/v43bTPs/tick.png'></div>",
          c: "Four",
          d: "Five"
      },
      correctAnswer: 'b'
    },
    {
      question: "What is the name of the department store that St Mungo's is situated within?",
      answers: {
          a: "Broadbents",
          b: "Arding & Hobbs",
          c: "Purge & Dowse<div class='tick'><img src='https://i.ibb.co/v43bTPs/tick.png'></div>",
          d: "Peter Robinson"
      },
      correctAnswer: 'c'
    },
    {
      question: "Which previous headmaster of Hogwarts did Dumbledore asign to watch over Harry after the attack on Mr Weasley?",
      answers: {
          a: "Phineas Nigellus<div class='tick'><img src='https://i.ibb.co/v43bTPs/tick.png'></div>",
          b: "Armando Dippet",
          c: "Dilys Derwent",
          d: "Dexter Fortescue"
      },
      correctAnswer: 'a'
    },
    {
      question: "Neville Longbottom's mother gave Neville a sweet wrapper as he was leaving the ward at St Mungo's, what kind of sweet was the wrapper from?",
      answers: {
          a: "Acid Pop",
          b: "Droobles Blowing Gum<div class='tick'><img src='https://i.ibb.co/v43bTPs/tick.png'></div>",
          c: "Pepper Imp",
          d: "Sherbet Lemon"
      },
      correctAnswer: 'b'
    },
    {
      question: "What killed Boderick Bode?",
      answers: {
          a: "Old age",
          b: "Poison",
          c: "Killing Curse",
          d: "Devil's Snare<div class='tick'><img src='https://i.ibb.co/v43bTPs/tick.png'></div>"
      },
      correctAnswer: 'd'
    },
    {
      question: "When Harry used Professor Umbridge's office for the first time to speak to Sirius via Floo Powder, who was in Grimmauld Place kitchen and went to get Sirius?",
      answers: {
          a: "Remus Lupin<div class='tick'><img src='https://i.ibb.co/v43bTPs/tick.png'></div>",
          b: "Kreacher",
          c: "Kingsley Shacklebolt",
          d: "Molly Weasley"
      },
      correctAnswer: 'a'
    },
    {
      question: "On Fred and George's departure from Hogwarts, what did they do to anger Filch and Umbridge?",
      answers: {
          a: "Set off fireworks during the O.W.L examinations",
          b: "Turned all the educational decree notices into the front page of the Quibbler",
          c: "Turned a corridor into a swamp<div class='tick'><img src='https://i.ibb.co/v43bTPs/tick.png'></div>",
          d: "Gave multiple skiving snackboxes to students who subsequently vommited in unison in the Entrance Hall"
      },
      correctAnswer: 'c'
    },
    {
      question: "For a bonus point in Harry's practical Defence Against the Dark Arts examination, what extra spell did he perform?",
      answers: {
          a: "Petrificus Totalus",
          b: "Expelliarmus",
          c: "Stupefy",
          d: "Patronus Charm<div class='tick'><img src='https://i.ibb.co/v43bTPs/tick.png'></div>"
      },
      correctAnswer: 'd'
    },
    {
      question: "When Harry had the dream of Sirius being held in the Department of Mysteries by Voldemort, he tried to find Professor McGonagall to tell her what he saw, but he couldn't find her - where was she?",
      answers: {
          a: "In Azkaban",
          b: "At Grimmauld Place",
          c: "At St Mungo's<div class='tick'><img src='https://i.ibb.co/v43bTPs/tick.png'></div>",
          d: "In hiding with Dumbledore"
      },
      correctAnswer: 'c'
    },
    {
      question: "When Harry, Ron, Hermione, Neville, Ginny and Luna had got into the room with multiple doors in the Department of Mysteries, what was behind the first door they tried in the search for Sirius?",
      answers: {
          a: "Brains in a tank<div class='tick'><img src='https://i.ibb.co/v43bTPs/tick.png'></div>",
          b: "An archway",
          c: "A jar with a reincanating hummingbird",
          d: "A dark room full of planets"
      },
      correctAnswer: 'a'
    }    
];

alert('PLEASE NOTE: All the following questions and answers are based on the fifth Harry Potter BOOK - not the movie.');

function displayTicks(){
  const divArray = 
  Array.from(document.getElementsByClassName('tick'));
  const displayStyle = divArray[0].style.display === 'block' ? 'none' : 'block';
  divArray.forEach(function(div){
    div.style.display = displayStyle;
  });
}

// Below code inspired from https://simplestepscode.com/javascript-quiz-tutorial/ code has been altered and editted to fit the needs of the 
// Harry Potter quiz, extra elements have been added, and some removed depending on my needs. Almost all variables have been renamed to make 
// it easier for future editing and bug fixing.

let containerOfQuiz = document.getElementById('quiz');
let containerOfResults = document.getElementById('results');
let submitQuizButton = document.getElementById('submit');
let containerOfBottomLinks = document.getElementById('bottomLinks');
let containerOfTopLinks = document.getElementById('topLinks');

generateQuiz(book5Questions, containerOfQuiz, containerOfResults, submitQuizButton, containerOfBottomLinks, containerOfTopLinks);

function generateQuiz(questions, containerOfQuiz, containerOfResults, submitQuizButton){
  // show questions right away
  showQuizQuestions(questions, containerOfQuiz);
  // store output and answer choices for each question
  function showQuizQuestions(questions, containerOfQuiz){
    let output = [];
    let answers;
    for(let i=0; i<questions.length; i++){
      // reset the list of answers
      answers = [];
      /* for each available answer, add a radio button for selection of only one answer (this will be 
      removed via CSS and the whole label will be selectable by the user with stylings affecting the whole label) to show selection*/
      for(let letter in questions[i].answers){
        if (questions.hasOwnProperty(i)){
        answers.push(
            '<input type="radio" id="'+ questions[i].answers[letter] +'" name="question'+i+'" value="'+letter+'">' + '<label  for="'+ questions[i].answers[letter] +'">'+ questions[i].answers[letter] +'</label>'
        );
        }
      }
      // add questions and its answers to the quiz 
      output.push(
        '<div class="question"><h3 id="quiz-questions">' +[i+1] + '. ' + questions[i].question + '</h3></div><br>' + '<div class="answers">' + answers.join('') + '</div><br>'
      );
    }
    // combine question and it's answers into one string of html and put it on the page (for all 20 questions)
    containerOfQuiz.innerHTML = output.join('');
  }
  function showResults(questions, containerOfQuiz, containerOfResults){
    // gather answer containers from the quiz
    let answerContainers = containerOfQuiz.querySelectorAll('.answers');
    // keep track of user's answers
    let userAnswer = '';
    let numCorrect = 0;
    // for each question...
    for(let i=0; i<questions.length; i++){
      // find selected answer
      userAnswer = (answerContainers[i].querySelector('input[name=question'+i+']:checked')||{}).value;
      // if answer is correct
      if(userAnswer===questions[i].correctAnswer) {
        // add the total of correct answers together and color the answer text green of all the answer labels
        numCorrect++;
        answerContainers[i].style.color = 'green';
      } else /*if answer is wrong or blank, colour the text red*/ {
        answerContainers[i].style.color = 'red';
      }
    }
    // show number of correct answers out of total
    containerOfResults.innerHTML = numCorrect + ' out of ' + questions.length;
    // Add alert once submit button is pressed for a visual prompt and a nice message for the user
    if (numCorrect <= 4){
      alert('You scored ' + numCorrect +'! Better luck next time! Try reading the books a few more times.');
    } else if (numCorrect >= 5 && numCorrect <= 7){
      alert('You scored ' + numCorrect +'! Well done, you know a little bit about Harry Potter! Maybe try re-reading the books to get a better score.');
    } else if (numCorrect >= 8 && numCorrect <= 12){
      alert('You scored ' + numCorrect +'! Well done, you know quite a bit about Harry Potter! Try rereshing your Harry Potter know-how by re-reading the books for a better score.');
    } else if (numCorrect >= 13 && numCorrect <= 16){
      alert('You scored ' + numCorrect +'! Well done, you know loads about Harry Potter! You must have read the books a few times.');
    } else if (numCorrect >= 17 && numCorrect <= 19){
      alert('You scored ' + numCorrect +'! Well done, you are almost at top marks! Try again and see if you can get 20/20.');
    } else {
      alert("You scored " + numCorrect +"! You got top marks! You're a Harry Potter wiz! Try challenging another Harry Potter nerd to see who wins!");
    }
  }
  // on submit, show results and home, reveal and refresh buttons via making containers visible
  submitQuizButton.onclick = function(){
    showResults(questions, containerOfQuiz, containerOfResults, containerOfBottomLinks);
    containerOfBottomLinks.style.display = "block";
    containerOfTopLinks.style.display = "block";  
    };    
  }